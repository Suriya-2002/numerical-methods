const navigationToggler=document.querySelector(".navigation__lines"),navigationBackground=document.querySelector(".navigation__background"),navigationLink=document.querySelectorAll(".navigation__link"),navigationDarkModeImage=document.querySelector(".navigation__dark-mode-image");let methodLink=document.querySelectorAll(".method__link");methodLink=[...methodLink,...navigationLink];const navigationActive=()=>{gsap.to(".navigation__line--1",{top:"4rem",rotate:"135deg",duration:.3}),gsap.to(".navigation__line--2",{opacity:0,duration:.3}),gsap.to(".navigation__line--3",{top:"4rem",rotate:"-135deg",duration:.3}),gsap.to(".navigation__dark-mode",{opacity:1,pointerEvents:"all",duration:.3}),screen.width>1200?(gsap.to(".navigation__background",{width:"125vw",height:"200vh",duration:.8,ease:"power4.out"}),gsap.to(".navigation__item",{x:"70vw",opacity:1,pointerEvents:"all",stagger:.1,duration:.5})):(gsap.to(".navigation__background",{width:"500rem",height:"500rem",duration:.8,ease:"power4.out"}),gsap.to(".navigation__item",{x:`${screen.width/2}`,opacity:1,pointerEvents:"all",stagger:.1,duration:.5}))},navigationInactive=()=>{gsap.to(".navigation__background",{width:0,height:0,duration:.8,ease:"power2.in"}),gsap.to(".navigation__line--1",{top:"2.8rem",rotate:"0",duration:.3}),gsap.to(".navigation__line--2",{opacity:1,duration:.3}),gsap.to(".navigation__line--3",{top:"5.2rem",rotate:"0",duration:.3}),gsap.to(".navigation__dark-mode",{opacity:0,pointerEvents:"none",duration:.3}),screen.width>1200?gsap.to(".navigation__item",{x:"160rem",opacity:0,pointerEvents:"none",stagger:-.1,duration:.5}):screen.width>450?gsap.to(".navigation__item",{x:"100rem",opacity:0,pointerEvents:"none",stagger:-.1,duration:.5}):gsap.to(".navigation__item",{x:"70rem",opacity:0,pointerEvents:"none",stagger:-.1,duration:.5})};navigationToggler.addEventListener("click",()=>{gsap.to(".navigation__tool-tip",{opacity:0,x:-100,duration:.5}),navigationBackground.classList.toggle("navigation--active"),navigationBackground.classList.contains("navigation--active")?(gsap.to(".navigation__line--1",{top:"4rem",rotate:"135deg",duration:.3}),gsap.to(".navigation__line--2",{opacity:0,duration:.3}),gsap.to(".navigation__line--3",{top:"4rem",rotate:"-135deg",duration:.3}),gsap.to(".navigation__dark-mode",{opacity:1,pointerEvents:"all",duration:.3}),screen.width>1200?(gsap.to(".navigation__background",{width:"125vw",height:"200vh",duration:.8,ease:"power4.out"}),gsap.to(".navigation__item",{x:"70vw",opacity:1,pointerEvents:"all",stagger:.1,duration:.5})):(gsap.to(".navigation__background",{width:"500rem",height:"500rem",duration:.8,ease:"power4.out"}),gsap.to(".navigation__item",{x:`${screen.width/2}`,opacity:1,pointerEvents:"all",stagger:.1,duration:.5}))):navigationInactive()}),document.body.addEventListener("click",e=>{navigationBackground.classList.contains("navigation--active")&&(e.target.classList.contains("navigation--active")||e.target.classList.contains("navigation__lines")||e.target.classList.contains("navigation__line")||e.target.classList.contains("navigation__dark-mode")||(navigationBackground.classList.remove("navigation--active"),navigationInactive()))}),document.querySelector(".coverpage-title").addEventListener("click",()=>{document.querySelector(".information--intro").style.display="block",document.querySelectorAll(".method").forEach(e=>{e.classList.remove("method--active")}),resetTable()}),methodLink.forEach(e=>{e.addEventListener("click",e=>{resetTable(),navigationBackground.classList.contains("navigation--active")&&navigationBackground.classList.toggle("navigation--active"),navigationInactive(),document.querySelectorAll(".method").forEach(t=>{document.querySelector(".information--intro").style.display="none",t.classList.remove("method--active"),t.getAttribute("data-method")===e.target.getAttribute("data-method")&&t.classList.add("method--active")})})});const toggleItem=(e,t)=>{document.querySelector(`.${e}`).classList.toggle(t)},toggleAllItems=(e,t)=>{document.querySelectorAll(`.${e}`).forEach(e=>{e.classList.toggle(t)})},darkMode=()=>{toggleItem("navigation","navigation--dark"),toggleItem("section-methods","section-methods--dark"),toggleItem("table","table--dark"),toggleItem("body","body--dark"),toggleItem("footer","footer--dark"),toggleAllItems("btn-primary","btn-primary--dark"),toggleAllItems("btn--add","btn--add-dark"),toggleAllItems("information--intro","information--intro-dark"),toggleAllItems("heading-primary","heading-primary--dark"),toggleAllItems("heading-method","heading-method--dark"),toggleAllItems("result-text","result-text--dark"),toggleAllItems("paragraph","paragraph--dark"),toggleAllItems("paragraph--information","paragraph--information-dark"),toggleAllItems("paragraph--footer","paragraph--footer-dark"),toggleAllItems("dropdown","dropdown--dark"),toggleAllItems("dropdown--form","dropdown--form-dark"),toggleAllItems("form","form--dark")},toggleDarkMode=e=>{const t=localStorage.getItem("dark-mode");null===t?localStorage.setItem("dark-mode","light"):"dark"===t&&e?(navigationDarkModeImage.src="./assets/images/moon.jpg",navigationDarkModeImage.setAttribute("alt","Moon"),localStorage.setItem("dark-mode","light"),darkMode()):"light"===t&&e&&(navigationDarkModeImage.src="./assets/images/sun.jpg",navigationDarkModeImage.setAttribute("alt","Sun"),localStorage.setItem("dark-mode","dark"),darkMode()),e||("dark"===t?(navigationDarkModeImage.src="./assets/images/sun.jpg",navigationDarkModeImage.setAttribute("alt","Sun"),localStorage.setItem("dark-mode","dark"),darkMode()):"light"===t&&(navigationDarkModeImage.src="./assets/images/moon.jpg",navigationDarkModeImage.setAttribute("alt","Moon"),localStorage.setItem("dark-mode","light")))};toggleDarkMode(!1),document.querySelector(".navigation__dark-mode").addEventListener("click",toggleDarkMode.bind(null,!0));const generateInitialGuess=(e,t)=>{let o=0,r=0,a=1,n=-1,i=0;for(;i<5e3;){if(math.evaluate(e.replace(t,o.toString()))*math.evaluate(e.replace(t,a.toString()))<=0)return o;if(math.evaluate(e.replace(t,r.toString()))*math.evaluate(e.replace(t,n.toString()))<=0)return n;o++,a++,r--,n--,i++}},resetTable=()=>{document.querySelector(".table").style.display="table",document.querySelector(".table__head .table__row").innerHTML="",document.querySelector(".table__body").innerHTML="",document.querySelector(".result-text").style.display="none"},createTable=(e,...t)=>{resetTable();const o=document.querySelector(".table__head .table__row");document.querySelector(".result-text").style.display="flex";for(let t=0;t<e.length;t++){const r=o.insertCell(t);r.classList.add("table__cell"),r.innerHTML=e[t]}const r=document.querySelector(".table__body");for(let e=0;e<t[0].length;e++){const o=r.insertRow(e);o.classList.add("table__row");for(let r=0;r<t.length;r++){const a=o.insertCell(r);a.innerHTML=t[r][e],a.classList.add("table__cell")}}},removeInput=e=>e.parentNode.remove();document.querySelector(".form__btn--bisection-method").addEventListener("click",e=>{e.preventDefault(),resetTable();let t=document.querySelector(".form__question--bisection-method").value,o=parseFloat(document.querySelector(".form__initial-guess--bisection-method-1").value),r=parseFloat(document.querySelector(".form__initial-guess--bisection-method-2").value),a=document.querySelector(".form__variable--bisection-method").value;a=a||"x";let n=parseFloat(document.querySelector(".form__precision--bisection-method").value);if(n=n||4,t){document.querySelector(".form__required--bisection-method").style.display="none";const e=new RegExp(a,"g");try{if(math.evaluate(t.replace(e,o)),math.evaluate(t.replace(e,o.toString()))*math.evaluate(t.replace(e,r.toString()))>0)return alert("Entered initial guesses do not converge");if(n>12)return alert("Please set a precision value less than 12");if(document.querySelector(".form__precision--bisection-method").value=n,o||r||(r=(o=generateInitialGuess(t,e))+1,document.querySelector(".form__initial-guess--bisection-method-1").value=o,document.querySelector(".form__initial-guess--bisection-method-2").value=r),!document.querySelector(".form__initial-guess--bisection-method-1").value||!document.querySelector(".form__initial-guess--bisection-method-2").value)return alert("Enter the other initial guess");document.querySelector(".form__variable--bisection-method").value=a}catch(e){return alert(e)}let i,l=[],d=[],u=[],c=[],s=[];d.push(o.toFixed(n)),u.push(r.toFixed(n));let m=(o+r)/2;for(c.push(m.toFixed(n)),i=math.evaluate(t.replace(e,m.toString())),s.push(i.toFixed(n));o.toFixed(n)!=r.toFixed(n);){math.evaluate(t.replace(e,o.toString()))>0===math.evaluate(t.replace(e,m.toString()))>0?o=m:r=m,d.push(o.toFixed(n)),u.push(r.toFixed(n)),m=(o+r)/2,c.push(m.toFixed(n)),i=math.evaluate(t.replace(e,m.toString())),s.push(i.toFixed(n))}for(let e=0;e<c.length;e++)l.push(e);createTable(["S.No","A","B","C","F(C)"],l,d,u,c,s),document.querySelector(".result-text").innerHTML=`Root : ${c[c.length-1]}`}else document.querySelector(".form__required--bisection-method").style.display="block",document.querySelector(".form__question--bisection-method").focus()}),document.querySelector(".form__btn--newton-raphson-method").addEventListener("click",e=>{e.preventDefault(),resetTable();let t=document.querySelector(".form__question--newton-raphson-method").value,o=parseFloat(document.querySelector(".form__initial-guess--newton-raphson-method").value),r=document.querySelector(".form__deriative--newton-raphson-method").value,a=document.querySelector(".form__variable--newton-raphson-method").value;a=a||"x";let n=parseFloat(document.querySelector(".form__precision--newton-raphson-method").value);if(n=n||4,t&&(o||0===o)){document.querySelector(".form__required--newton-raphson-method-1").style.display="none",document.querySelector(".form__required--newton-raphson-method-2").style.display="none";const e=new RegExp(a,"g");r=(r=r||math.derivative(t,a)).toString(),document.querySelector(".form__deriative--newton-raphson-method").value=r;try{if(math.evaluate(t.replace(e,o)),0===math.evaluate(r.replace(e,o.toString())))return alert("Incorrect initial guess");if(n>12)return alert("Please set a precision value less than 12");document.querySelector(".form__precision--newton-raphson-method").value=n,document.querySelector(".form__variable--newton-raphson-method").value=a}catch(e){return alert(e)}let i,l,d,u=[],c=[],s=[],m=[];for(c.push(o.toFixed(n)),l=math.evaluate(t.replace(e,o.toString())),s.push(l.toFixed(n)),d=math.evaluate(r.replace(e,o.toString())),m.push(d.toFixed(n)),i=o-l/d;o.toFixed(n)!==i.toFixed(n);)o=i,c.push(o.toFixed(n)),l=math.evaluate(t.replace(e,o.toString())),s.push(l.toFixed(n)),d=math.evaluate(r.replace(e,o.toString())),m.push(d.toFixed(n)),i=o-l/d;for(let e=0;e<c.length;e++)u.push(e);createTable(["S.No","X","F(X)","F'(X)"],u,c,s,m),document.querySelector(".result-text").innerHTML=`Root : ${c[c.length-1]}`}else{if(document.querySelector(".form__required--newton-raphson-method-1").style.display="none",document.querySelector(".form__required--newton-raphson-method-2").style.display="none",!t)return document.querySelector(".form__required--newton-raphson-method-1").style.display="block",document.querySelector(".form__question--newton-raphson-method").focus(),!1;if(!document.querySelector(".form__initial-guess--newton-raphson-method").value)return document.querySelector(".form__required--newton-raphson-method-2").style.display="block",document.querySelector(".form__initial-guess--newton-raphson-method").focus(),!1}}),document.querySelector(".form__btn--secant-method").addEventListener("click",e=>{e.preventDefault(),resetTable();let t=document.querySelector(".form__question--secant-method").value,o=parseFloat(document.querySelector(".form__initial-guess--secant-method-1").value),r=parseFloat(document.querySelector(".form__initial-guess--secant-method-2").value),a=document.querySelector(".form__variable--secant-method").value;a=a||"x";let n=parseFloat(document.querySelector(".form__precision--secant-method").value);if(n=n||4,t){document.querySelector(".form__required--secant-method").style.display="none";const e=new RegExp(a,"g");try{if(math.evaluate(t.replace(e,o)),math.evaluate(t.replace(e,o.toString()))*math.evaluate(t.replace(e,r.toString()))>0)return alert("Entered initial guesses do not converge");if(n>12)return alert("Please set a precision value less than 12");if(document.querySelector(".form__precision--secant-method").value=n,o||r||(r=(o=generateInitialGuess(t,e))+1,document.querySelector(".form__initial-guess--secant-method-1").value=o,document.querySelector(".form__initial-guess--secant-method-2").value=r),!document.querySelector(".form__initial-guess--secant-method-1").value||!document.querySelector(".form__initial-guess--secant-method-2").value)return alert("Enter the other initial guess");document.querySelector(".form__variable--secant-method").value=a}catch(e){return alert(e)}let i,l,d,u,c=[],s=[],m=[];for(l=math.evaluate(t.replace(e,o.toString())),d=math.evaluate(t.replace(e,r.toString())),s.push(l.toFixed(n)),s.push(d.toFixed(n)),m.push(o.toFixed(n)),m.push(r.toFixed(n)),i=r-d*((r-o)/(d-l)),m.push(i.toFixed(n)),u=math.evaluate(t.replace(e,i.toString())),s.push(u.toFixed(n));r.toFixed(n)!==i.toFixed(n);)o=r,l=math.evaluate(t.replace(e,o.toString())),i=(r=i)-(d=math.evaluate(t.replace(e,r.toString())))*((r-o)/(d-l)),m.push(i.toFixed(n)),u=math.evaluate(t.replace(e,i.toString())),s.push(u.toFixed(n));for(let e=0;e<m.length;e++)c.push(e);createTable(["S.No","X","F(X)"],c,m,s),document.querySelector(".result-text").innerHTML=`Root : ${m[m.length-1]}`}else document.querySelector(".form__required--secant-method").style.display="block",document.querySelector(".form__question--secant-method").focus()}),document.querySelector(".form__btn--regula-falsi-method").addEventListener("click",e=>{e.preventDefault(),resetTable();let t=document.querySelector(".form__question--regula-falsi-method").value,o=parseFloat(document.querySelector(".form__initial-guess--regula-falsi-method-1").value),r=parseFloat(document.querySelector(".form__initial-guess--regula-falsi-method-2").value),a=document.querySelector(".form__variable--regula-falsi-method").value;a=a||"x";let n=parseFloat(document.querySelector(".form__precision--regula-falsi-method").value);if(n=n||4,t){document.querySelector(".form__required--regula-falsi-method").style.display="none";const e=new RegExp(a,"g");try{if(math.evaluate(t.replace(e,o)),math.evaluate(t.replace(e,o.toString()))*math.evaluate(t.replace(e,r.toString()))>0)return alert("Entered initial guesses do not converge");if(n>12)return alert("Please set a precision value less than 12");if(document.querySelector(".form__precision--regula-falsi-method").value=n,o||r||(r=(o=generateInitialGuess(t,e))+1,document.querySelector(".form__initial-guess--regula-falsi-method-1").value=o,document.querySelector(".form__initial-guess--regula-falsi-method-2").value=r),!document.querySelector(".form__initial-guess--regula-falsi-method-1").value||!document.querySelector(".form__initial-guess--regula-falsi-method-2").value)return alert("Enter the other initial guess");document.querySelector(".form__variable--regula-falsi-method").value=a}catch(e){return alert(e)}let i,l,d,u,c=[],s=[],m=[];for(l=math.evaluate(t.replace(e,o.toString())),d=math.evaluate(t.replace(e,r.toString())),s.push(l.toFixed(n)),s.push(d.toFixed(n)),m.push(o.toFixed(n)),m.push(r.toFixed(n)),i=(o*d-r*l)/(d-l),u=math.evaluate(t.replace(e,i.toString()));Math.abs(parseFloat(u.toFixed(n)))>Math.pow(10,-1*n);)i=(o*d-r*l)/(d-l),m.push(i.toFixed(n)),u*l<0?r=i:o=i,l=math.evaluate(t.replace(e,o.toString())),d=math.evaluate(t.replace(e,r.toString())),u=math.evaluate(t.replace(e,i.toString())),s.push(u.toFixed(n));for(let e=0;e<m.length;e++)c.push(e);createTable(["S.No","X","F(X)"],c,m,s),document.querySelector(".result-text").innerHTML=`Root : ${m[m.length-1]}`}else document.querySelector(".form__required--regula-falsi-method").style.display="block",document.querySelector(".form__question--regula-falsi-method").focus()}),document.querySelector(".form__btn--fixed-point-method").addEventListener("click",e=>{e.preventDefault(),resetTable();let t=document.querySelector(".form__question--fixed-point-method").value,o=parseFloat(document.querySelector(".form__initial-guess--fixed-point-method").value),r=document.querySelector(".form__variable--fixed-point-method").value;r=r||"x";let a=parseFloat(document.querySelector(".form__precision--fixed-point-method").value);if(a=a||4,t&&(o||0===o)){document.querySelector(".form__required--fixed-point-method-1").style.display="none",document.querySelector(".form__required--fixed-point-method-2").style.display="none";const e=new RegExp(r,"g");try{if(math.evaluate(t.replace(e,o)),a>12)return alert("Please set a precision value less than 12");document.querySelector(".form__precision--fixed-point-method").value=a;const n=Math.abs(math.evaluate(math.derivative(t,r).toString().replace(e,o.toString())));if(n>1||!n&&0!==n)return alert("Entered initial guess may not converge");document.querySelector(".form__variable--fixed-point-method").value=r}catch(e){return alert(e)}let n,i,l=[],d=[],u=[];for(n=o,u.push(n.toFixed(a)),i=math.evaluate(t.replace(e,o.toString())),d.push(i.toFixed(a));Math.abs(parseFloat(i.toFixed(a))-parseFloat(n.toFixed(a)))>Math.pow(10,-1*a);)n=i,u.push(n.toFixed(a)),i=math.evaluate(t.replace(e,n.toString())),d.push(i.toFixed(a));for(let e=0;e<u.length;e++)l.push(e);createTable(["S.No","X","F(X)"],l,u,d),document.querySelector(".result-text").innerHTML=`Root : ${u[u.length-1]}`}else{if(document.querySelector(".form__required--fixed-point-method-1").style.display="none",document.querySelector(".form__required--fixed-point-method-2").style.display="none",!t)return document.querySelector(".form__required--fixed-point-method-1").style.display="block",document.querySelector(".form__question--fixed-point-method").focus(),!1;if(!document.querySelector(".form__initial-guess--fixed-point-method").value)return document.querySelector(".form__required--fixed-point-method-2").style.display="block",document.querySelector(".form__initial-guess--fixed-point-method").focus(),!1}}),document.querySelector(".interpolation__btn--add").addEventListener("click",e=>{e.preventDefault();document.querySelector(".interpolation__btn--add").insertAdjacentHTML("beforebegin",'\n        <div class="form__row">\n            <input class="form__x-value form__x-value--interpolation" type="number" min="1" max="8" placeholder="X" />\n            <input class="form__y-value form__y-value--interpolation" type="number" placeholder="Y" />\n            <a onclick="removeInput(this)" class="btn btn--delete"> <i class="icon--delete fas fa-trash-alt"></i> </a>\n        </div>\n    ')}),document.querySelector(".divided-difference__btn--add").addEventListener("click",e=>{e.preventDefault();document.querySelector(".divided-difference__btn--add").insertAdjacentHTML("beforebegin",'\n        <div class="form__row">\n            <input\n                class="form__x-value form__x-value--divided-difference"\n                type="number"\n                min="1"\n                max="8"\n                placeholder="X"\n            />\n            <input class="form__y-value form__y-value--divided-difference" type="number" placeholder="Y" />\n            <a onclick="removeInput(this)" class="btn btn--delete"> <i class="icon--delete fas fa-trash-alt"></i> </a>\n        </div>\n    ')});const calculateInterpolationInputs=[document.querySelector(".form__find-x--interpolation"),document.querySelector(".form__precision--interpolation"),document.querySelector(".form__variable--interpolation")],calculateDividedDifferenceInputs=[document.querySelector(".form__find-x--divided-difference"),document.querySelector(".form__precision--divided-difference"),document.querySelector(".form__variable--divided-difference")];calculateInterpolationInputs.forEach(e=>{e.addEventListener("keydown",e=>{13===e.keyCode&&(e.preventDefault(),document.querySelector(".form__btn--interpolation").click())})}),calculateDividedDifferenceInputs.forEach(e=>{e.addEventListener("keydown",e=>{13===e.keyCode&&(e.preventDefault(),document.querySelector(".form__btn--divided-difference").click())})});const dropdownOptionTitle=document.querySelectorAll(".dropdown__option--title"),dropdownSelectedTitle=document.querySelector(".dropdown__text--title"),paragraphInterpolation=[document.querySelector(".paragraph--forward"),document.querySelector(".paragraph--backward"),document.querySelector(".paragraph--lagrange")];paragraphInterpolation[1].style.display="none",paragraphInterpolation[2].style.display="none",dropdownOptionTitle.forEach(e=>{e.addEventListener("click",()=>{resetTable(),paragraphInterpolation.forEach(e=>{e.style.display="none"}),dropdownSelectedTitle.innerHTML=e.textContent+' <i class="fas fa-caret-down margin-left--small"></i>',"Forward "===dropdownSelectedTitle.textContent?paragraphInterpolation[0].style.display="block":"Backward "===dropdownSelectedTitle.textContent?paragraphInterpolation[1].style.display="block":"Lagrange "===dropdownSelectedTitle.textContent&&(paragraphInterpolation[2].style.display="block")})}),document.querySelector(".form__variable--interpolation").classList.add("form__input--disabled"),document.querySelector(".form__variable--divided-difference").classList.add("form__input--disabled");const findXValueInterpolation=()=>{document.querySelector(".form__find-x--interpolation").classList.remove("form__input--disabled"),document.querySelector(".form__variable--interpolation").classList.add("form__input--disabled")},findXValueDividedDifference=()=>{document.querySelector(".form__find-x--divided-difference").classList.remove("form__input--disabled"),document.querySelector(".form__variable--divided-difference").classList.add("form__input--disabled")},findEquationInterpolation=()=>{document.querySelector(".form__find-x--interpolation").classList.add("form__input--disabled"),document.querySelector(".form__variable--interpolation").classList.remove("form__input--disabled")},findEquationDividedDifference=()=>{document.querySelector(".form__find-x--divided-difference").classList.add("form__input--disabled"),document.querySelector(".form__variable--divided-difference").classList.remove("form__input--disabled")},dropdownOptionsInterpolation=document.querySelectorAll(".dropdown__option--interpolation"),dropdownSelectedInterpolation=document.querySelector(".dropdown__text--interpolation"),dropdownOptionsDividedDifference=document.querySelectorAll(".dropdown__option--divided-difference"),dropdownSelectedDividedDifference=document.querySelector(".dropdown__text--divided-difference"),dropdownInterpolation=document.querySelector(".dropdown__text--interpolation"),dropdownDividedDifference=document.querySelector(".dropdown__text--divided-difference");dropdownOptionsInterpolation.forEach(e=>{e.addEventListener("click",()=>{dropdownInterpolation.setAttribute("data-dropdown",e.getAttribute("data-option")),dropdownSelectedInterpolation.innerHTML=e.innerHTML+'<i class="fas fa-caret-down"></i>',"find-x"===e.getAttribute("data-option")?(document.querySelector(".form__find-x--interpolation").classList.remove("form__input--disabled"),document.querySelector(".form__variable--interpolation").classList.add("form__input--disabled")):(document.querySelector(".form__find-x--interpolation").classList.add("form__input--disabled"),document.querySelector(".form__variable--interpolation").classList.remove("form__input--disabled"))})}),dropdownOptionsDividedDifference.forEach(e=>{e.addEventListener("click",()=>{dropdownDividedDifference.setAttribute("data-dropdown",e.getAttribute("data-option")),dropdownSelectedDividedDifference.innerHTML=e.innerHTML+'<i class="fas fa-caret-down"></i>',"find-x"===e.getAttribute("data-option")?(document.querySelector(".form__find-x--divided-difference").classList.remove("form__input--disabled"),document.querySelector(".form__variable--divided-difference").classList.add("form__input--disabled")):(document.querySelector(".form__find-x--divided-difference").classList.add("form__input--disabled"),document.querySelector(".form__variable--divided-difference").classList.remove("form__input--disabled"))})});const tableHead=(e,t,o="F")=>{const r=["X","Y"];if("I"===t){let t;"F"===o?t="Δ":"B"===o&&(t="∇");for(let o=1;o<e;o++)1===o?r.push(`${t}Y`):r.push(`${t}<sup>${o}</sup>Y`)}else if("D"===t)for(let t=1;t<e;t++)r.push(t);return r},tableValues=(e,t,o,r)=>{const a=e.length;let n=[];for(let e=0;e<2*a-1;e++)n[e]=[];let i=0;for(let e=0;e<2*a-1;e++)for(let t=0;t<a+1;t++)n[e][t]="&nbsp;";for(let o=0,r=0;r<a;o+=2,r++)n[o][0]=e[r],n[o][1]=t[r];if("I"===o)for(let e=2;e<a+1;e++){for(let t=1;t<2*a-1;t+=2)t+i+1<2*a-1&&(n[t+i+1][e-1]-n[t+i-1][e-1]||n[t+i+1][e-1]-n[t+i-1][e-1]==0)&&(n[t+i][e]=parseFloat((n[t+i+1][e-1]-n[t+i-1][e-1]).toFixed(r)));i++}else if("D"===o)for(let t=2,o=1;o<a;t++,o++){for(let l=1,d=0;d<a-o;l+=2,d++)l+i+1<2*a-1&&(n[l+i+1][t-1]-n[l+i-1][t-1]||n[l+i+1][t-1]-n[l+i-1][t-1]==0)&&(n[l+i][t]=parseFloat(((n[l+i-1][t-1]-n[l+i+1][t-1])/(e[d]-e[o+d])).toFixed(r)));i++}return n};document.querySelector(".form__btn--interpolation").addEventListener("click",e=>{let t;e.preventDefault(),resetTable(),"Forward "===dropdownSelectedTitle.textContent?t="F":"Backward "===dropdownSelectedTitle.textContent?t="B":"Lagrange "===dropdownSelectedTitle.textContent&&(t="L");const o=document.querySelectorAll(".form__x-value--interpolation"),r=document.querySelectorAll(".form__y-value--interpolation"),a=parseFloat(document.querySelector(".form__find-x--interpolation").value);let n=document.querySelector(".form__variable--interpolation").value;n=n||"x";let i=parseFloat(document.querySelector(".form__precision--interpolation").value);i=i||4;const l=[],d=[];try{if(i>12)return alert("Please set a precision value less than 12");document.querySelector(".form__precision--interpolation").value=i,document.querySelector(".form__variable--interpolation").value=n;for(let e=0;e<o.length;e++){if(!o[e].value||!r[e].value){const t='\n                    <small style="display: block" class="form__error form__error--interpolation"\n                        >* Don\'t leave empty or half filled blanks</small\n                    >\n                ';return r[e].value||r[e].focus(),o[e].value||o[e].focus(),!document.querySelector(".form__error")&&document.querySelector(".interpolation__btn--add").insertAdjacentHTML("afterend",t)}l[e]=parseFloat(o[e].value),d[e]=parseFloat(r[e].value)}if(document.querySelector(".form__error")&&document.querySelector(".form__error").remove(),document.querySelector(".form__required--interpolation").style.display="none","find-x"===dropdownInterpolation.getAttribute("data-dropdown")&&!a&&0!==a)return document.querySelector(".form__find-x--interpolation").focus(),document.querySelector(".form__required--interpolation").style.display="block"}catch(e){return alert(e)}const u=l.length;if("F"===t||"B"===t){const e=l[1]-l[0];for(let t=0;t<u-1;t++)if(l[t+1]-l[t]!==e){const e='\n                    <small style="display: block" class="form__error form__error--interpolation"\n                        >Entered X values do not have a common difference</small\n                    >\n                ';return document.querySelector(".interpolation__btn--add").insertAdjacentHTML("afterend",e)}}if("F"===t||"B"===t){const e=tableValues(l,d,"I",i),o=[];for(let t=0;t<e[0].length;t++){const r=[];for(let o=0;o<e.length;o++)r[o]=e[o][t];o[t]=r}const r=tableHead(u,"I",t);createTable(r,...o),((e,t)=>{let o,r;if("find-x"===dropdownInterpolation.getAttribute("data-dropdown")){const r=(e,t,o)=>{let r=e;if("F"===o)for(let o=1;o<t;o++)r*=e-o;else if("B"===o)for(let o=1;o<t;o++)r*=e+o;return r};if("F"===t){o=d[0];let n=(a-l[0])/(l[1]-l[0]);for(let a=1;a<u;a++)o+=r(n,a,t)*e[a][a+1]/math.factorial(a)}else if("B"===t){o=d[u-1];let n=(a-l[u-1])/(l[1]-l[0]);for(let a=1;a<u;a++)o+=r(n,a,t)*e[e.length-a-1][a+1]/math.factorial(a)}document.querySelector(".result-text").innerHTML=`Y value : ${o.toFixed(i)}`}else if("equation"===dropdownInterpolation.getAttribute("data-dropdown")){const o=(e,t,o)=>{let r=e;if("F"===o)for(let o=1;o<t;o++)r=`${r} * (${e} - ${o})`;else if("B"===o)for(let o=1;o<t;o++)r=`${r} * (${e} + ${o})`;return r};if("F"===t){r=`${d[0]}`;let a=`(${n} - ${l[0]}) / ${l[1]-l[0]}`;for(let n=1;n<u;n++)r+=` + ${o(a,n,t)} * ${e[n][n+1]/math.factorial(n)}`}else if("B"===t){r=`${d[u-1]}`;let a=`(${n} - ${l[u-1]}) / ${l[1]-l[0]}`;for(let n=1;n<u;n++)r+=` + ${o(a,n,t)} * ${e[e.length-n-1][n+1]/math.factorial(n)}`}document.querySelector(".result-text").innerHTML=`Equation : &nbsp; ${math.rationalize(math.simplify(r)).toString()}`}})(e,t)}else"L"===t&&(()=>{if("find-x"===dropdownInterpolation.getAttribute("data-dropdown")){let e=0;for(let t=0;t<u;t++){temp=1;for(let e=0;e<u;e++)t!==e&&(temp*=(a-l[e])/(l[t]-l[e]));e+=temp*d[t]}document.querySelector(".result-text").style.display="flex",document.querySelector(".result-text").innerHTML=`Y value : ${e.toFixed(i)}`}else if("equation"===dropdownInterpolation.getAttribute("data-dropdown")){let e="0";for(let t=0;t<u;t++){temp="1";for(let e=0;e<u;e++)t!==e&&(temp=`${temp} * (${n} - ${l[e]}) / ${l[t]-l[e]}`);e=`${e} + ${temp} * ${d[t]}`}document.querySelector(".result-text").style.display="flex",document.querySelector(".result-text").innerHTML=`Equation : ${math.rationalize(math.simplify(e)).toString()}`}})()}),document.querySelector(".form__btn--divided-difference").addEventListener("click",e=>{e.preventDefault(),resetTable();const t=document.querySelectorAll(".form__x-value--divided-difference"),o=document.querySelectorAll(".form__y-value--divided-difference"),r=parseFloat(document.querySelector(".form__find-x--divided-difference").value);let a=document.querySelector(".form__variable--divided-difference").value;a=a||"x";let n=parseFloat(document.querySelector(".form__precision--divided-difference").value);n=n||4;const i=[],l=[];try{if(n>12)return alert("Please set a precision value less than 12");document.querySelector(".form__precision--divided-difference").value=n,document.querySelector(".form__variable--divided-difference").value=a;for(let e=0;e<t.length;e++){if(!t[e].value||!o[e].value){const r='\n                    <small style="display: block" class="form__error form__error--divided-difference"\n                        >* Don\'t leave empty or half filled blanks</small\n                    >\n                ';return o[e].value||o[e].focus(),t[e].value||t[e].focus(),!document.querySelector(".form__error")&&document.querySelector(".divided-difference__btn--add").insertAdjacentHTML("afterend",r)}i[e]=parseFloat(t[e].value),l[e]=parseFloat(o[e].value)}if(document.querySelector(".form__error")&&document.querySelector(".form__error").remove(),document.querySelector(".form__required--divided-difference").style.display="none","find-x"===dropdownDividedDifference.getAttribute("data-dropdown")&&!r&&0!==r)return document.querySelector(".form__find-x--divided-difference").focus(),document.querySelector(".form__required--divided-difference").style.display="block"}catch(e){return alert(e)}const d=i.length,u=tableValues(i,l,"D",n),c=[];for(let e=0;e<u[0].length;e++){const t=[];for(let o=0;o<u.length;o++)t[o]=u[o][e];c[e]=t}const s=tableHead(d,"D");createTable(s,...c),(e=>{let t,o;if("find-x"===dropdownDividedDifference.getAttribute("data-dropdown")){const o=e=>{let t=1;for(let o=0;o<e;o++)t*=r-i[o];return t};t=l[0];for(let r=1;r<d;r++)t+=o(r)*e[r][r+1];document.querySelector(".result-text").innerHTML=`Y value : ${t.toFixed(n)}`}else if("equation"===dropdownDividedDifference.getAttribute("data-dropdown")){const t=e=>{let t="1";for(let o=0;o<e;o++)t=`${t} * (${a} - ${i[o]})`;return t};o=`${l[0]}`;for(let r=1;r<d;r++)o+=` + ${t(r)} * ${e[r][r+1]}`;document.querySelector(".result-text").innerHTML=`Equation : &nbsp; ${math.rationalize(math.simplify(o)).toString()}`}})(u)});